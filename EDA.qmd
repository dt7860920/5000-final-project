---
title: "EDA"
format: 
  html:
    toc: true
    code-fold: true
    embed-resources: true
execute:
  echo: true
  warning: false
  message: false
---

### Load Data

The exploratory analysis starts with loading the cleaned and standardized dataset obtained during the data cleaning stage. This dataset consists of one row per player-season from 2007–2022, all having comparable variable names and numeric organization for statistical and visual analysis. Loading the dataset moves the stage from preparation to insight generation, as now it is a cleaned file and has consistent scoring metrics, strokes-gained stats, and driving data across all included seasons. This version of the dataset guarantees that the EDA represents the complete finished construction and merging of a model-based dataset as opposed to any more disparate raw files. With all major formatting issues resolved, the variables can be directly analysed and compared across years without further adjustments.

```{python}
import pandas as pd
import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt

path = "data/processed-data/pga_cleaned.csv"
pga = pd.read_csv(path)
```

### Distribution of Scoring Average

The goal of this analysis is to comprehend how the pace of PGA Tour performance evolved over those fifteen years, and scoring average is one of the most basic measurements in golf. To compare across years, mean scoring averages of each individual year are calculated, and trend line plots are computed. The visualization used results in a measured but significant reduction in score from 70.94 to 70.64. While the change in the number may seem small, but even a slight decrease of 0.1 to the scoring average is highly considerable in the professional setting, where fields are incredibly competitive with such small distances between winning and missing the cut.

Several broader factors likely contribute to this trend:

-   Rising emphasis on body condition and power conditioning

-   Club and ball technology advances

-   More advanced analytics use in the daily procedures

-   Better course management: strokes-gained analysis results

These patterns align with the well-documented modernization of PGA Tour performance and provide a historical foundation for the modeling conducted later in the project.

```{python}
year_summary = (
    pga.groupby("year")["scoring"]
       .mean()
       .reset_index()
)

plt.figure(figsize=(10, 5))
plt.plot(year_summary["year"], year_summary["scoring"], marker="o")
plt.gca().invert_yaxis()  
plt.xlabel("Year")
plt.ylabel("Average Scoring")
plt.title("Trend in PGA Tour Scoring Average Over Time")
plt.grid(True, alpha=0.3)
plt.tight_layout()
plt.show()

yearly_scores = pga.groupby("year")["scoring"].mean().round(3)
yearly_scores.reset_index().rename(columns={"scoring": "avg_scoring"})
```

### Scoring Average Variance

Beyond changes in mean scoring, it is important to evaluate whether the distribution of scoring averages has also shifted. Using a boxplot by year, the analysis examines year-to-year variance, outliers, and the spread between top-performing and lower-performing players.

The visual and numerical outputs show that the scoring distribution has tightened in recent years. Standard deviations have gradually decreased, and the range between the highest and lowest scoring averages has narrowed. A tightening distribution suggests an increasingly competitive environment—players must perform at exceptionally consistent levels to retain status or contend.

Besides changes in average scoring, it is also necessary to assess whether the scoring averages distribution has changed. It analyzes year-to-year variance, outliers, as well as differential distributions between top-of-the-line players and those at the bottom of the tier, using a boxplot presented by year. These visual and numerical results provide evidence that the scoring curve has been getting tighter over the last few years. The standard deviations have gradually decreased, meaning the range between the highest and lowest average scores has narrowed. A narrowing distribution indicates a more competitive environment. Players have to give their absolute best efforts or lose their position on Tour.

This reduction in variance can be interpreted as evidence of:

-   Greater parity in professional golf

-   More standardized training methods

-   Increasingly optimized swing and equipment technology

-   Diminishing room for large performance gaps

Understanding these shifts is crucial for contextualizing the clustering models later, which rely on differences in performance metrics to segment player types.

```{python}
plt.figure(figsize=(12,6))
sns.boxplot(data=pga, x="year", y="scoring")
plt.xticks(rotation=45)
plt.title("Distribution of Scoring Averages by Year")
plt.show()

yearly_spread = (
    pga.groupby("year")["scoring"]
       .agg(["mean", "std", "min", "max"])
       .assign(range=lambda x: x["max"] - x["min"])
)

yearly_spread
```

### Driving Distance Distribution

One of the most discussed metrics in the modern world of golf — driving distance, associated with the “distance boom” as described in USGA and R&A distance reports. The analysis computes average driving distance per season to observe how distance has evolved over time. The trend shows a clear and steady upward movement, consistent with public reports indicating that professional golfers have gained approximately 1–2 yards per year on average.

Factors contributing to this trend include:

-   Rigorous focus on strengthening and conditioning

-   Common use of launch monitors and swing-optimization software

-   Technological advancements of driver heads and golf balls

-   Swing-speed training programs

This motivates the later supervised learning analyses to test whether distance alone promotes better outcomes or whether strokes-gained metrics—particularly SG_TTG—play a more dominant role in performance.

```{python}
distance_trend = (
    pga.groupby("year")["drive_distance"]
       .mean()
       .reset_index()
)

plt.figure(figsize=(10,5))
plt.plot(distance_trend["year"], distance_trend["drive_distance"], marker="o")
plt.xlabel("Year")
plt.ylabel("Avg Driving Distance (yards)")
plt.title("Trend in Driving Distance Over Time")
plt.grid(True, alpha=0.3)
plt.tight_layout()
plt.show()
```

### SG_TTG Distribution

Strokes-Gained Tee-to-Green (SG_TTG) is recognized as the most influential strokes-gained variable among all predictive analytics for overall scoring. This measure incorporates performance in driving, approach play, and around-the-green play, and is a valuable indicator of ball-striking skill. The trend analysis of SG_TTG over time shows that there are moderate increases over seasons. Players have gotten stronger, more technically proficient, and more driven by analytics over the years and their tee-to-green proficiency has sharpened.

This observation aligns directly with Michael Broadie’s research (2011, 2014), which demonstrates that long-game skill accounts for the majority of scoring differences among professionals. The increasing SG_TTG trend parallels the decline in scoring average and provides further support for the hypothesis that modern PGA Tour success is strongly driven by ball-striking efficiency.

```{python}
sgttg_trend = (
    pga.groupby("year")["sg_ttg"]
       .mean()
       .reset_index()
       .dropna()
)

plt.figure(figsize=(10, 5))
plt.plot(sgttg_trend["year"], sgttg_trend["sg_ttg"], marker="o")
plt.axhline(0, color="gray", linestyle="--", alpha=0.5)
plt.xlabel("Year")
plt.ylabel("Average SG Tee-to-Green")
plt.title("Average SG_TTG by Year")
plt.grid(alpha=0.3)
plt.tight_layout()
plt.show()
```

### SG_P Distribution

Although putting receives enormous attention from media and fans, the strokes-gained literature shows that putting explains far less scoring variance than tee-to-green play. Nonetheless, SG_P remains an important component of performance, particularly for differentiating elite contenders within tournaments.

While putting receives tons of media and fan attention, the strokes-gained literature shows that putting explains considerably less scoring variance compared to tee-to-green play. Still, SG_P continues to be a critical measure of performance, especially for separating elite contenders in tournaments. The trend plot of SG_P shows comparatively low movement versus driving distance or SG_TTG.

The trend plot for SG_P shows relatively minimal movement compared to driving distance or SG_TTG. This suggests:

-   Putting performance is definitely more variable and context dependent

-   Progress in technique and technology has not translated to performance at the same rates as the advancement of distance or ball-striking

-   The kind of competitive advantage today's golfers seek is less about putting brilliance and more about maintaining long-game strengths

```{python}
sgp_trend = (
    pga.groupby("year")["sg_p"]
       .mean()
       .reset_index()
       .dropna()
)

plt.figure(figsize=(10, 5))
plt.plot(sgp_trend["year"], sgp_trend["sg_p"], marker="o")
plt.axhline(0, color="gray", linestyle="--", alpha=0.5)
plt.xlabel("Year")
plt.ylabel("Average SG Putting")
plt.title("Average SG_P (Putting) by Year")
plt.grid(alpha=0.3)
plt.tight_layout()
plt.show()
```
